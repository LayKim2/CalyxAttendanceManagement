@page "/pto"
@attribute [Authorize]
@inject IPTOService PTOService

<MainTitle Title="PTO" Description="@ptoCountText" />

<MudBlazor.MudTabs Elevation="25" Color="MudBlazor.Color.Transparent" Rounded="true" PanelClass="mt-6">
    <MudBlazor.MudTabPanel Text="APPLY PTO">
        <ApplyPTO />
    </MudBlazor.MudTabPanel>
    <MudBlazor.MudTabPanel Text="HISTORY">
        <PTOHistory />
    </MudBlazor.MudTabPanel>
</MudBlazor.MudTabs>

@code {
    private string ptoCountText = "";

    protected override async Task OnInitializedAsync()
    {
        await PTOService.GetPTOCount();

        ptoCountText = "Current PTO Count : " + PTOService.UserPTOCount.ToString();
    }
}
